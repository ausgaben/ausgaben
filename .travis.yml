language: node_js

addons:
  postgresql: "9.3"
  apt:
      sources:
        - ubuntu-toolchain-r-test
      packages:
        - gcc-4.8

sudo: false

node_js:
  - "stable"
  - "iojs"
  - "4.1"
  - "4.0"

env:
  global:
    - CXX=g++-4.8

before_script:
  - npm install
  - psql -c 'create database travis_ci_test;' -U postgres
  - cp config.travis.json config.local.json
  - node server/console.js sequelize:schema:sync

script:
  - npm run lint
  - npm run test:coverage
